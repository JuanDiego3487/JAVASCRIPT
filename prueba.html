<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla 100 pokemons</title>
    <style>
        * {
            
            margin: 0 auto;
            background-color: rgb(248, 239, 229);
            
            
        }

        thead, tbody {
            text-align: center;
            

        }
        .titulo {
            
            height: 50px;
            width: 300px    ;
        }

    </style>
</head>
<body>
    

    <main id="principal">
        <table class="tabla">
            <thead>
                <tr>
                    <div class="titulo">EL CLUB DE LA PELEA POKEMON</div>
                </tr>
                
            </thead><br>
            
            
            <tbody class="tabla_body"></tbody>
        </table>

    <script>
        const principal = document.getElementById("principal");
        const cuerpoTabla = principal.querySelector(".tabla_body");

        

        // UTILIZANDO ASYNC AWAIT
        async function pokeApi(nompoke) {
            const url = `https://pokeapi.co/api/v2/pokemon/${nompoke}`;

            const respuesta = await fetch(url);

            //si la respuesta no fue exitosa
            if (!respuesta.ok)
                throw new Error("Error. Pokemon no existe")

            const json = await respuesta.json();
            // retornar el link de la imagen del pokemon
            return [json.sprites.other. official-artwork. front_default];
        }
        pokeApi("1")
            .then(nombre => console.log(nombre))
            .catch(error => console.error(error.message));

        //funcion que se ejecuta inmediatamente
        listaPokemon(Math.floor(math))
        (async function() {
            for (let i = 1; i<=806; i++) {
            try {
                let listaPokemon = await pokeApi(`${i}`);
                cuerpoTabla.innerHTML += `
                <td><img src="${listaPokemon[1]}"</td>
                <img src="${listaPokemon[0]}"</td>
          
            </tr>`

            } catch (error) {
                console.error(error.message);
            }
            }
        })()
    </script>
</body>
</html>